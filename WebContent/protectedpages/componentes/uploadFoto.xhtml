<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<div class="dados">
		<h:panelGroup id="mensagemErro" layout="block" styleClass="mensagem-erro-hidden">
	  		<span>#{msg.label_upload_sizeErrorLabel}</span>
		</h:panelGroup>

		<h:panelGroup styleClass="perfilFotoContainer" layout="block">
			<h:panelGroup styleClass="perfilFotoUploadFotoContainer" layout="block">
				<a4j:mediaOutput id="info" element="img" styleClass="foto-perfil"
				    createContent="#{editarPerfilBean.paintFotoUpload}"
				    cacheable="false">
				    <f:param value="#{editarPerfilBean.timeStamp}" name="time"/>  
				</a4j:mediaOutput>
			</h:panelGroup>
			<div class="perfilBtnUploadFotoContainer">
				<rich:fileUpload fileUploadListener="#{editarPerfilBean.atualizaFotoUpload}" listHeight="0" listWidth="0"
				    id="upload" immediateUpload="true"
				    acceptedTypes="jpg, gif, png, bmp" allowFlash="false" cleanButtonClass="hidden" addControlLabel="#{msg.label_upload_addControlLabel}" 
				    cancelEntryControlLabel="#{msg.label_upload_cancelEntryControlLabel}" clearAllControlLabel="#{msg.label_upload_clearAllControlLabel}"
					clearControlLabel="#{msg.label_upload_clearControlLabel}" doneLabel="#{msg.label_upload_doneLabel}"
					progressLabel="#{msg.label_upload_progressLabel}" sizeErrorLabel="#{msg.label_upload_sizeErrorLabel}"
					stopControlLabel="#{msg.label_upload_stopControlLabel}" stopEntryControlLabel="#{msg.label_upload_stopEntryControlLabel}"
					transferErrorLabel="#{msg.label_upload_transferErrorLabel}" uploadControlLabel="#{msg.label_upload_uploadControlLabel}" onsizerejected="$j('#perfil\\:mensagemErro').show();">
					<a4j:support event="onuploadcomplete" reRender="upload, info" />
					<a4j:support event="onupload" onsubmit="$j('#perfil\\:mensagemErro').hide();" />
				</rich:fileUpload>
			</div>
		</h:panelGroup>
	</div>
</html>